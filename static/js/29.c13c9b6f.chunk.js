/*! For license information please see 29.c13c9b6f.chunk.js.LICENSE.txt */
(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[29],{121:function(t,e,n){"use strict";var i=n(47),c=n(2),r={root:null,rootMargin:"0px 0px 0px 0px",threshold:0};e.a=function(t){var e=Object(c.useState)(!1),n=Object(i.a)(e,2),s=n[0],a=n[1];return Object(c.useEffect)((function(){t.current&&new IntersectionObserver((function(e,n){e.forEach((function(e){e.isIntersecting&&(a(!0),n.unobserve(t.current))}))}),r).observe(t.current)}),[t]),s}},227:function(t,e,n){"use strict";var i=n(2),c=n(93);e.a=function(t,e,n){if(!c.a)return[e,function(){}];var r=Object(i.useState)((function(){try{var i=sessionStorage.getItem(t);return"string"!==typeof i?(sessionStorage.setItem(t,n?String(e):JSON.stringify(e)),e):n?i:JSON.parse(i||"null")}catch(r){return e}})),s=r[0],a=r[1];return Object(i.useEffect)((function(){try{var e=n?String(s):JSON.stringify(s);sessionStorage.setItem(t,e)}catch(r){}})),[s,a]}},228:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(1),c=n(0);function r(t){var e,n;if(Object(c.a)(1,arguments),t&&"function"===typeof t.forEach)e=t;else{if("object"!==typeof t||null===t)return new Date(NaN);e=Array.prototype.slice.call(t)}return e.forEach((function(t){var e=Object(i.a)(t);(void 0===n||n<e||isNaN(Number(e)))&&(n=e)})),n||new Date(NaN)}},533:function(t,e,n){"use strict";n.r(e);var i=n(103),c=n(47),r=n(10),s=n(121),a=n(24),l=n(95),o=n(91),d=n.n(o),u=n(68),j=n(228),b=n(2),O=n(138),f=n(574),v=n(5),h=n(227),m=n(127),p=n(19),x=Object(b.lazy)((function(){return Object(a.l)((function(){return Promise.all([n.e(1),n.e(9)]).then(n.bind(null,486))}))})),g=Object(b.lazy)((function(){return Object(a.l)((function(){return n.e(5).then(n.bind(null,144))}))})),y=Object(b.lazy)((function(){return Object(a.l)((function(){return n.e(11).then(n.bind(null,278))}))})),N=Object(b.lazy)((function(){return Object(a.l)((function(){return n.e(13).then(n.bind(null,279))}))})),S=Object(b.lazy)((function(){return Object(a.l)((function(){return Promise.all([n.e(2),n.e(7),n.e(6),n.e(49)]).then(n.bind(null,502))}))})),C=Object(b.lazy)((function(){return Object(a.l)((function(){return n.e(12).then(n.bind(null,280))}))})),w=Object(b.lazy)((function(){return Object(a.l)((function(){return Promise.all([n.e(1),n.e(3),n.e(10)]).then(n.bind(null,281))}))})),k=Object(b.lazy)((function(){return Object(a.l)((function(){return n.e(8).then(n.bind(null,504))}))})),D=Object(b.lazy)((function(){return Object(a.l)((function(){return Promise.all([n.e(2),n.e(36)]).then(n.bind(null,300))}))})),M=Object(b.lazy)((function(){return Object(a.l)((function(){return n.e(30).then(n.bind(null,299))}))}));function I(){var t,e,n,o,I,z=Object(f.a)().t,R=Object(v.i)().stateCode.toUpperCase(),H=Object(h.a)("mapStatistic","active"),U=Object(c.a)(H,2),E=U[0],P=U[1],J=Object(b.useState)(!1),L=Object(c.a)(J,2),A=L[0],F=L[1],T=Object(b.useState)({stateCode:R,districtName:null}),V=Object(c.a)(T,2),W=V[0],B=V[1],q=Object(b.useState)(!1),G=Object(c.a)(q,2),K=G[0],Q=G[1];Object(b.useEffect)((function(){W.stateCode!==R&&(B({stateCode:R,districtName:null}),F(!1))}),[W.stateCode,R]);var X=Object(m.a)("".concat(r.f),a.b,{revalidateOnMount:!0,refreshInterval:1e5}),Y=X.data,Z=X.error,$=Object(m.a)("".concat(r.f),a.b,{revalidateOnMount:!0,refreshInterval:1e5}),_=$.data,tt=$.error;if(Z)console.error(Z);else if(tt)console.error(tt);else if(Y&&_){console.log(_);var et=null===_||void 0===_?void 0:_[R],nt=Object(b.useMemo)((function(){if(et){var t=window.innerWidth>=540?3:2,e=(null===et||void 0===et?void 0:et.districts)?Object.keys(et.districts).filter((function(t){return"Unknown"!==t})).length:0;return Math.ceil(e/t)}}),[et]),it=Object(b.useRef)(),ct=Object(s.a)(it),rt=Object(b.useMemo)((function(){var t=[];return[0,0,0,0].map((function(e,n){return t.push({animationDelay:"".concat(250*n,"ms")}),null})),t}),[]),st=A?window.innerWidth>=540?10:8:6,at=Object(b.useMemo)((function(){var t,e,n,i,c,r=[null===et||void 0===et||null===(t=et.meta)||void 0===t?void 0:t.date,null===et||void 0===et||null===(e=et.meta)||void 0===e||null===(n=e.tested)||void 0===n?void 0:n.date,null===et||void 0===et||null===(i=et.meta)||void 0===i||null===(c=i.vaccinated)||void 0===c?void 0:c.date].filter((function(t){return t}));return r.length>0?Object(u.a)(Object(j.a)(r.map((function(t){return Object(a.k)(t)}))),{representation:"date"}):null}),[et]),lt=r.r.includes(E)?E:"confirmed",ot=Object(b.useMemo)((function(){var t;return!!((null===et||void 0===et?void 0:et.districts)&&(null===(t=et.districts)||void 0===t?void 0:t[r.L])&&r.y.every((function(t){return Object(a.i)(et,"total",t)===Object(a.i)(et.districts[r.L],"total",t)})))}),[et]),dt=r.D[lt],ut=(null===W||void 0===W?void 0:W.districtName)&&W.districtName!==r.L&&ot,jt=Object.keys((!ot||!dt.hasPrimary)&&(null===et||void 0===et?void 0:et.districts)||{});return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(O.a,{children:[Object(p.jsxs)("title",{children:["Coronavirus Outbreak in ",r.C[R]," - covid19india.org"]}),Object(p.jsx)("meta",{name:"title",content:"Coronavirus Outbreak in ".concat(r.C[R],": Latest Map and Case Count")})]}),Object(p.jsxs)("div",{className:"State",children:[Object(p.jsxs)("div",{className:"state-left",children:[Object(p.jsx)(k,{data:et,stateCode:R}),Object(p.jsxs)("div",{style:{position:"relative"},children:[Object(p.jsx)(C,{mapStatistic:E,setMapStatistic:P}),Object(p.jsx)(y,{data:et}),Object(p.jsx)(w,{timeseries:null===Y||void 0===Y||null===(t=Y[R])||void 0===t?void 0:t.dates,stateCode:R,forceRender:!!Z})]}),(null===et||void 0===et||null===(e=et.total)||void 0===e?void 0:e.vaccinated1)&&Object(p.jsx)(N,{data:et}),_&&Object(p.jsx)(b.Suspense,{fallback:Object(p.jsx)("div",{style:{minHeight:"50rem"}}),children:Object(p.jsx)(S,{stateCode:R,data:_,regionHighlighted:W,setRegionHighlighted:B,mapStatistic:E,setMapStatistic:P,lastDataDate:at,delta7Mode:K,setDelta7Mode:Q,noRegionHighlightedDistrictData:ut,noDistrictData:ot})}),Object(p.jsx)("span",{ref:it}),ct&&_&&Object(p.jsx)(b.Suspense,{fallback:Object(p.jsx)("div",{}),children:Object(p.jsx)(D,{stateCode:R,data:_,timeseries:null===Y||void 0===Y||null===(n=Y[R])||void 0===n?void 0:n.dates})})]}),Object(p.jsx)("div",{className:"state-right",children:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"district-bar",children:[Object(p.jsxs)("div",{className:d()("district-bar-top",{expanded:A}),children:[Object(p.jsxs)("div",{className:"district-bar-left",children:[Object(p.jsx)("h2",{className:d()(lt,"fadeInUp"),style:rt[0],children:z("Top districts")}),Object(p.jsx)("div",{className:"districts fadeInUp ".concat(A?"is-grid":""),style:A?Object(i.a)({gridTemplateRows:"repeat(".concat(nt,", 2rem)")},rt[1]):rt[1],children:jt.filter((function(t){return"Unknown"!==t})).sort((function(t,e){return function(t,e){var n=et.districts[t],i=et.districts[e];return Object(a.i)(i,"total",E)-Object(a.i)(n,"total",E)}(t,e)})).slice(0,A?void 0:5).map((function(t){var e=Object(a.i)(et.districts[t],"total",lt),n=Object(a.i)(et.districts[t],"delta",lt);return Object(p.jsxs)("div",{className:"district",children:[Object(p.jsx)("h2",{children:Object(a.f)(e)}),Object(p.jsx)("h5",{children:z(t)}),"active"!==lt&&Object(p.jsx)("div",{className:"delta",children:Object(p.jsx)("h6",{className:lt,children:n>0?"\u2191"+Object(a.f)(n):""})})]},t)}))})]}),Object(p.jsxs)("div",{className:"district-bar-right fadeInUp",style:rt[2],children:[Y&&("confirmed"===lt||"deceased"===lt)&&Object(p.jsx)("div",{className:"happy-sign",children:Object.keys((null===(o=Y[R])||void 0===o?void 0:o.dates)||{}).slice(-st).every((function(t){return 0===Object(a.i)(Y[R].dates[t],"delta",lt)}))&&Object(p.jsxs)("div",{className:"alert ".concat("confirmed"===lt?"is-green":""),children:[Object(p.jsx)(l.w,{}),Object(p.jsxs)("div",{className:"alert-right",children:["No new ",lt," cases in the past five days"]})]})}),Object(p.jsx)(x,{timeseries:null===Y||void 0===Y||null===(I=Y[R])||void 0===I?void 0:I.dates,statistic:lt,stateCode:R,lookback:st,forceRender:!!Z})]})]}),Object(p.jsx)("div",{className:"district-bar-bottom",children:jt.length>5?Object(p.jsx)("button",{className:"button fadeInUp",onClick:function(){F(!A)},style:rt[3],children:Object(p.jsx)("span",{children:z(A?"View less":"View all")})}):Object(p.jsx)("div",{style:{height:"3.75rem",flexBasis:"15%"}})})]}),Object(p.jsx)(b.Suspense,{fallback:Object(p.jsx)("div",{}),children:Object(p.jsx)(M,{stateCode:R,timeseries:Y,regionHighlighted:W,setRegionHighlighted:B,noRegionHighlightedDistrictData:ut,forceRender:!!Z})})]})})]}),Object(p.jsx)(g,{})]})}}e.default=Object(b.memo)(I)},91:function(t,e,n){var i;!function(){"use strict";var n={}.hasOwnProperty;function c(){for(var t=[],e=0;e<arguments.length;e++){var i=arguments[e];if(i){var r=typeof i;if("string"===r||"number"===r)t.push(i);else if(Array.isArray(i)){if(i.length){var s=c.apply(null,i);s&&t.push(s)}}else if("object"===r)if(i.toString===Object.prototype.toString)for(var a in i)n.call(i,a)&&i[a]&&t.push(a);else t.push(i.toString())}}return t.join(" ")}t.exports?(c.default=c,t.exports=c):void 0===(i=function(){return c}.apply(e,[]))||(t.exports=i)}()}}]);
//# sourceMappingURL=29.c13c9b6f.chunk.js.map